name: whisper-dev

# This describes the development and launch environment.
#
# IMPORTANT: If you change the dependencies here, you should also make sure the
# default Docker image (which is likely pined in the bin/run_job_<name>.py
# script) also reflects your changes.

channels:
  - defaults

dependencies:
    - pip
    - python=3.10
    - conda-forge::ffmpeg=4.4,<5
    - pytorch::pytorch=2.1=py3.10_cuda12.1_cudnn8.9.2_0
    - pytorch::torchaudio
    - pytorch::torchvision
    - nvidia::cuda-toolkit>=12

    - pip:
      - -e '../submodules/klay-data/submodules/klay-audiotools'
      - -e '../submodules/klay-data[whisperx]'
      - -e '..[code-style, tests, type-check]'
