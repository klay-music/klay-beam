name: nac-dev

channels:
  - defaults
  - conda-forge

dependencies:
  - python=3.9
  # If we install numpy 1.25, pip replaces it later on. Just start with the one
  # that we want.
  - numpy=1.23
  - ffmpeg>=4.2,<5
  # Pin pytorch to guarantee the same version in Docker/Dataflow runtime
  - pytorch::pytorch=2.0
  - pytorch::torchaudio=2.0
  - pip

  - pip:
    - -e '../../klay_beam[pytorch]'
    - -e '../.[code-style, tests, type-check]'